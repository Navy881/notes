# Outline VPN

[https://github.com/Jigsaw-Code/outline-server](https://github.com/Jigsaw-Code/outline-server)

[https://github.com/Jigsaw-Code/outline-ss-server](https://github.com/Jigsaw-Code/outline-ss-server)

[https://gist.github.com/JohnyDeath/3f93899dc78f90cc57ae52b41ea29bac](https://gist.github.com/JohnyDeath/3f93899dc78f90cc57ae52b41ea29bac)

[https://github.com/Jigsaw-Code/outline-server/blob/master/src/server_manager/install_scripts/install_server.sh](https://github.com/Jigsaw-Code/outline-server/blob/master/src/server_manager/install_scripts/install_server.sh)

[https://ipv6.rs/tutorial/OpenSUSE_Latest/Outline_Server/](https://ipv6.rs/tutorial/OpenSUSE_Latest/Outline_Server/)

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Outline VPN –Ω–∞ Ubuntu 20.04

Outline VPN - —ç—Ç–æ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é VPN –Ω–∞ –í–∞—à–µ–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ –∏–ª–∏ –Ω–∞ –º–∞—à–∏–Ω–µ –æ–±–ª–∞—á–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞. –ü–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –í—ã –º–æ–∂–µ—Ç–µ —É–∑–Ω–∞—Ç—å [–∑–¥–µ—Å—å](https://getoutline.org/ru/) –∏ [–∑–¥–µ—Å—å](https://en.wikipedia.org/wiki/Outline_VPN).

–í —Å–≤–æ–µ–º —Å–æ—Å—Ç–∞–≤–µ –∏–º–µ–µ—Ç –∫–∞–∫ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, —Ç–∞–∫ –∏ —Å—Ä–µ–¥—Å—Ç–≤–∞ —Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É. –ü–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å VPN –∫–∞–∫ –Ω–∞ –Ω–∞—Å—Ç–æ–ª—å–Ω—ã—Ö –∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö, —Ç–∞–∫ –∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö.

## –ü—Ä–µ–∂–¥–µ —á–µ–º –Ω–∞—á–∞—Ç—å

–í–∞–º –Ω—É–∂–µ–Ω —Å–µ—Ä–≤–µ—Ä. –î–∞, –µ–≥–æ –Ω—É–∂–Ω–æ –∞—Ä–µ–Ω–¥–æ–≤–∞—Ç—å, —É—á–∏—Ç—ã–≤–∞—è –µ–≥–æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –í–∞–º –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ä–µ—Å—É—Ä—Å–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –≤ —Ç–µ–∫—É—â–µ–º –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏, –Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –ö–∞–Ω–∞–¥–µ, —Ç–æ —Å–º–µ–ª–æ –∞—Ä–µ–Ω–¥—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É –≤ AWS, Digital Ocean –∏–ª–∏ –ª—é–±–æ–º –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ.

–î–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–¥–∞—á, –Ω–∞–ø—Ä–∏–º–µ—Ä –æ—Ç–∫—Ä—ã—Ç–∏–µ —Å–∞–π—Ç–æ–≤, –æ–±–º–µ–Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –≤ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞—Ö –∏ —Ç.–¥., –ø–æ–¥–æ–π–¥–µ—Ç —Ö–æ—Å—Ç —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏:

- 1 —è–¥—Ä–æ CPU.
- 1 –ì–ë RAM (–º–æ–∂–Ω–æ –∏ –º–µ–Ω—å—à–µ).
- 10 GB HDD –¥–ª—è —Ñ–∞–π–ª–æ–≤ –û–° –≤ –æ—Å–Ω–æ–≤–Ω–æ–º.

–°—Ç–æ–∏–º–æ—Å—Ç—å –∞—Ä–µ–Ω–¥—ã —Ç–∞–∫–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –æ—Ç 3$ –¥–æ 5$ –≤ –º–µ—Å—è—Ü, –ø–ª—é—Å-–º–∏–Ω—É—Å. –ü–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –ø–æ–±–æ–ª–µ–µ. –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ - Ubuntu 20.04, —Ç.–∫. –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∏–º–µ–Ω–Ω–æ –¥–ª—è –Ω–µ–µ.

–ö–∞–∫ –∞—Ä–µ–Ω–¥–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É —Ç—É—Ç —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –Ω–µ –±—É–¥–µ–º, –≤—Å–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞.

## –ù–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

–ò —Ç–∞–∫, –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞ –∞—Ä–µ–Ω–¥–æ–≤–∞–Ω–∞, –¥–æ—Å—Ç—É–ø –∫ –Ω–µ–π –ø–æ SSH –∏–º–µ–µ—Ç—Å—è, Ubuntu —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞. –î–∞–ª–µ–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.

`sudo apt update`

`sudo apt upgrade`

–°–¥–µ–ª–∞–π—Ç–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É –º–∞—à–∏–Ω—ã –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ, –µ—Å–ª–∏ –µ—Å—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.

–°—Ä–∞–∑—É –Ω–∞—Å—Ç—Ä–æ–∏–º –±—Ä—ç–Ω–¥–º–∞—É—ç—Ä, —á—Ç–æ–±—ã –∑–∞—â–∏—Ç–∏—Ç—å –º–∞—à–∏–Ω—É –æ—Ç –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞.

`sudo ufw allow 443/tcp`

`sudo ufw allow 8080/tcp`

–û—Ç–∫—Ä—ã–≤–∞–µ–º –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ SSH.

`sudo ufw allow 22/tcp`

–ï—Å–ª–∏ —É –í–∞—Å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π IP, —Ç–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–æ—Å—Ç—É–ø –ø–æ SSH –º–æ–∂–Ω–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–µ–≥–æ.

`sudo ufw allow from <–í–∞—à–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–πIP> to any port 22`

+

As the script may say,

> If you have connection problems, it may be that your router or cloud provider
blocks inbound connections, even though your machine seems to allow them.
> 
> - If you plan to have a single access key to access your server make sure
> ports 41429 and are open for TCP and UDP on
> your router or cloud provider.
> - If you plan on adding additional access keys, you‚Äôll have to open ports
> 1024 through 65535 on your router or cloud provider since the Outline
> Server may allocate any of those ports to new access keys.

So, You may need to allow connections by

`sudo ufw allow 1024:65535/tcp`

`sudo ufw allow 1024:65535/udp` (–ü–æ–¥ –≤–æ–ø—Ä–æ—Å–æ–º)

–ò –≤–∫–ª—é—á–∞–µ–º –±—Ä—ç–Ω–¥–º–∞—É—ç—Ä.

`sudo ufw enable`

–û—Ç–ª–∏—á–Ω–æ! –ú–∞—à–∏–Ω–∞ –∑–∞—â–∏—â–µ–Ω–∞. –ò–¥–µ–º –¥–∞–ª—å—à–µ.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Outline Server

–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è –≥–æ—Ç–æ–≤—ã–º–∏ —Å–∫—Ä–∏–ø—Ç–∞–º–∏ –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ [outline-server](https://github.com/Jigsaw-Code/outline-server) –∫–æ–º–ø–∞–Ω–∏–∏ Jigsaw.

–°–∫—Ä–∏–ø—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ –∞–¥—Ä–µ—Å—É:

```
https://github.com/Jigsaw-Code/outline-server/blob/master/src/server_manager/install_scripts/install_server.sh
```

–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É.

<aside>
üí° –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ —Å –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ docker. –£ –º–µ–Ω—è —ç—Ç–æ root

</aside>

`sudo wget -qO- https://raw.githubusercontent.com/Jigsaw-Code/outline-server/master/src/server_manager/install_scripts/install_server.sh | bash`

–ë—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Docker –∏ —Å–ª—É–∂–±—ã —Å–∞–º–æ–≥–æ Outline, –∞ —Ç–∞–∫–∂–µ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –í—ã –º–æ–∂–µ—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Å–∫—Ä–∏–ø—Ç–∞.

`sudo curl https://get.docker.com | sh`

–ö–æ–≥–¥–∞ —Å–∫—Ä–∏–ø—Ç –∑–∞–∫–æ–Ω—á–∏—Ç, —Ç–æ –≤—ã–≤–µ–¥–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ.

```json
{
  "apiUrl": "https://0.0.0.0:0000/XXXXXXXXXXXX",
  "certSha256": "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"
}
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–æ —Å–µ–±–µ –Ω–∞ –±—É–¥—É—â–µ–µ. –ü–æ —Ñ–∞–∫—Ç—É —Å–µ—Ä–≤–µ—Ä Outline VPN —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞–º –ª–∏—à—å –Ω—É–∂–Ω–æ –µ–≥–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–ª—è —Å–≤–æ–∏—Ö –Ω—É–∂–¥.

## –ö–ª–∏–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–æ–º

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–Ω–æ–º VPN, –≤ —Ç.—á. —Ä–∞–∑–¥–∞—á–∞ –¥–æ—Å—Ç—É–ø–æ–≤, –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é [Outline Manager](https://getoutline.org/ru/get-started/#step-1), –¥–æ—Å—Ç—É–ø–Ω–æ–π –¥–ª—è Windows, Max –∏ Linux.

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –∏ –≤—ã–±—Ä–∞—Ç—å "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Outline –≥–¥–µ —É–≥–æ–¥–Ω–æ". –ü–æ—è–≤–∏—Ç—Å—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ —Å –ø–æ–º–æ—â—å—é —Å–∫—Ä–∏–ø—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –º—ã —Ä–∞–Ω–µ–µ –∑–∞–ø—É—Å–∫–∞–ª–∏. –ê –ø–æ—Å–ª–µ –ø–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ –∫–ª—é—á–∞ –∏ –∞–¥—Ä–µ—Å–∞, –∫–æ—Ç–æ—Ä—ã–π –í—ã –¥–æ —ç—Ç–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏.

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —É –í–∞—Å –ø–æ—è–≤–∏—Ç—Å—è –¥–æ—Å—Ç—É–ø –∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é —Å–µ—Ä–≤–µ—Ä–æ–º.

## –î–æ–±–∞–≤–ª—è–µ–º –∫–ª—é—á

–í Outline Manager –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π –∫–ª—é—á –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å–µ—Ä–≤–µ—Ä–æ–º. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ–∫–∞–∂–µ—Ç [—Å—Å—ã–ª–∫—É –Ω–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é](https://github.com/Jigsaw-Code/outline-client/blob/master/docs/invitation-instructions.md) –∏ —Å–∞–º –∫–ª—é—á –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏:

`ss://XXXXXXXXXXXX@9.9.9.9:0/?outline=1`

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç –∫–ª—é—á, –æ–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–ª–∏–µ–Ω—Ç–∞ Outline.

## –ö–ª–∏–µ–Ω—Ç –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–ò –ø–æ—Å–ª–µ–¥–Ω–∏–π —à–∞–≥ - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ [–∫–ª–∏–µ–Ω—Ç–∞ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è](https://getoutline.org/ru/get-started/#step-3). –ï—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è Android, Windows, Chrome, iOS, MacOS, Linux.

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –Ω—É–∂–Ω–æ –Ω–∞–∂–∞—Ç—å "–î–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä" –∏ –≤—Å—Ç–∞–≤–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –≤—ã—à–µ –∫–ª—é—á.

–ì–æ—Ç–æ–≤–æ!
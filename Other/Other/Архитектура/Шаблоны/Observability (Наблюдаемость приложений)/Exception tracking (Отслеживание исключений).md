# Exception tracking (Отслеживание исключений)

### Проблема

Как понять поведение приложения и устранить неполадки? 

- Исключения должны быть дедуплицированы, зарегистрированы, исследованы разработчиками и решена основная проблема.
- Любое решение должно иметь минимальные накладные расходы во время выполнения.

Исключения редко попадают в журнал сервиса, но когда это происходит, очень важно определить их первопричину. Исключение может быть симптомом отказа или ошибки в коде. Традиционно исключения просматриваются в журнале. Вы даже мо­жете настроить журнальный сервер таким образом, чтобы он оповещал вас о любом записанном исключении. Однако у этого подхода есть несколько проблем.

- Журнальные файлы рассчитаны на однострочные записи, тогда как исключения состоят из множества строчек.
- Нет механизма для отслеживания того, как решаются проблемы с записанными исключениями. Вам придется вручную копировать и вставлять исключение в систему отслеживания проблем.
- Исключения, скорее всего, будут дублироваться, но механизма для их автомати­ческой группировки не существует.

### Решение

Сообщайте обо всех исключениях в централизованный сервис отслеживания исключений, который собирает и отслеживает исключения и уведомляет разработчиков.

Сервис сообщает об исключениях центральному сервису, который их дедуплицирует, отслеживает их исправление и генерирует оповещения.

Более подходящей альтернативой является использование сервиса для от­слеживания исключений. Ваш код сообщает этому сервису об исключениях через API — например, REST. Тот их дедуплицирует, управляет процессом их исправления и генерирует оповещения.

![Untitled](Exception%20tracking%20(%D0%9E%D1%82%D1%81%D0%BB%D0%B5%D0%B6%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%B8%D1%81%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B8%CC%86)/Untitled.png)

Сервис отслеживания исключений можно интегрировать в приложение несколь­кими способами. Код может вызывать его API напрямую. Но лучше использовать для этого клиентскую библиотеку, предоставляемую этим сервисом. Например, клиентская библиотека HoneyBadger поддерживает несколько простых механизмов интеграции, включая Servlet Filter, который перехватывает исключения и сообщает о них.

Примеры сервисов отслеживания исключений:

- HoneyBadger (облачный);
- Sentry (имеет открытый исходный код и может быть развёрнут в вашей инфраструктуре).

Шаблон отслеживания исключений помогает быстро идентифицировать про­блемы в промышленной среде и реагировать на них.

### Преимущества

- Проще просматривать исключения и отслеживать их разрешение.

### Недостатки

- Сервис отслеживания исключений является дополнительной инфраструктурой.
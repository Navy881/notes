# Observability (Наблюдаемость приложений)

Представьте, что вы развернули приложение FTGO в промышленной среде. Вам, скорее всего, будет интересно узнать такие его показатели, как количество за­просов в секунду, степень использования ресурсов и т. д. Если возникнет проблема, например отказ экземпляра сервиса или переполнение диска, вы должны о ней узнать, и желательно до того, как она затронет пользователей. К тому же у вас должна быть возможность диагностировать эту проблему и определить ее первопричину.

Многие аспекты управления приложением в промышленных условиях, такие как мониторинг доступности и возможности применения аппаратных ресурсов, нахо­дятся вне зоны ответственности разработчиков. Эта обязанность явно принадлежит системным администраторам. Но вы, как разработчик, обязаны использовать опре­деленные шаблоны проектирования, чтобы сделать свои сервисы более простыми для управления и диагностики. Эти шаблоны предоставляют информацию о поведении и работоспособности сервиса. Они позволяют системе мониторинга отслеживать и визуализировать его состояние и генерировать оповещения при воз­никновении проблемы. К тому же шаблоны упрощают процесс диагностики. 

Проектировать наблюдаемые сервисы вы можете с помощью следующих ша­блонов.

- *API проверки работоспособности —* предоставляет конечную точку, которая воз­вращает данные о работоспособности сервиса.
- *Агрегация журналов —* ведет журналы активности сервисов и сохраняет их на центральном журнальном сервере с поддержкой поиска и оповещений.
- *Распределенная трассировка —* назначает каждому внешнему запросу уникаль­ный идентификатор и отслеживает запросы по мере их перемещения между сервисами.
- *Отслеживание исключений —* за исключениями следит отдельный сервис, кото­рый избавляется от дубликатов, оповещает разработчиков и отслеживает обра­ботку каждого исключения.
- *Метрики приложения —* сервисы собирают метрики, такие как счетчики и оце­ночные показатели, и делают их доступными серверу метрик.
- *Ведение журнала аудита —* ведет журнал действий пользователей.

![Untitled](Observability%20(%D0%9D%D0%B0%D0%B1%D0%BB%D1%8E%D0%B4%D0%B0%D0%B5%D0%BC%D0%BE%D1%81%D1%82%D1%8C%20%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B8%CC%86)/Untitled.png)

Отличительной чертой большинства этих шаблонов является то, что они состоят из двух компонентов: для разработчиков и для администраторов. Возьмем, к при­меру, шаблон API проверки работоспособности. Разработчик ответственен за реали­зацию конечной точки с данными о работоспособности. Системный администратор отвечает за систему мониторинга, которая периодически обращается к этому API. Аналогично работает шаблон агрегации журналов: разработчик делает так, чтобы его сервисы вели журналы с полезной информацией, а администратор занимается агрегированием этих журналов.

[**Health Check API (API проверки работоспособности**)](Observability%20(%D0%9D%D0%B0%D0%B1%D0%BB%D1%8E%D0%B4%D0%B0%D0%B5%D0%BC%D0%BE%D1%81%D1%82%D1%8C%20%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B8%CC%86)/Health%20Check%20API%20(API%20%D0%BF%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B8%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BE%D1%81%D0%BF%D0%BE%D1%81%D0%BE%D0%B1%D0%BD%D0%BE%D1%81%D1%82%D0%B8).md)

[**Log aggregation (Агрегация журналов**)](Observability%20(%D0%9D%D0%B0%D0%B1%D0%BB%D1%8E%D0%B4%D0%B0%D0%B5%D0%BC%D0%BE%D1%81%D1%82%D1%8C%20%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B8%CC%86)/Log%20aggregation%20(%D0%90%D0%B3%D1%80%D0%B5%D0%B3%D0%B0%D1%86%D0%B8%D1%8F%20%D0%B6%D1%83%D1%80%D0%BD%D0%B0%D0%BB%D0%BE%D0%B2).md)

[**Distributed tracing (Распределённая трассировка**)](Observability%20(%D0%9D%D0%B0%D0%B1%D0%BB%D1%8E%D0%B4%D0%B0%D0%B5%D0%BC%D0%BE%D1%81%D1%82%D1%8C%20%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B8%CC%86)/Distributed%20tracing%20(%D0%A0%D0%B0%D1%81%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%CC%88%D0%BD%D0%BD%D0%B0%D1%8F%20%D1%82%D1%80%D0%B0%D1%81%D1%81%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D0%B0).md)

[**Application metrics (Показатели приложения**)](Observability%20(%D0%9D%D0%B0%D0%B1%D0%BB%D1%8E%D0%B4%D0%B0%D0%B5%D0%BC%D0%BE%D1%81%D1%82%D1%8C%20%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B8%CC%86)/Application%20metrics%20(%D0%9F%D0%BE%D0%BA%D0%B0%D0%B7%D0%B0%D1%82%D0%B5%D0%BB%D0%B8%20%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F).md)

[**Exception tracking (Отслеживание исключений**)](Observability%20(%D0%9D%D0%B0%D0%B1%D0%BB%D1%8E%D0%B4%D0%B0%D0%B5%D0%BC%D0%BE%D1%81%D1%82%D1%8C%20%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B8%CC%86)/Exception%20tracking%20(%D0%9E%D1%82%D1%81%D0%BB%D0%B5%D0%B6%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%B8%D1%81%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B8%CC%86).md)

[**Audit logging (Ведение журнала аудита**)](Observability%20(%D0%9D%D0%B0%D0%B1%D0%BB%D1%8E%D0%B4%D0%B0%D0%B5%D0%BC%D0%BE%D1%81%D1%82%D1%8C%20%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B8%CC%86)/Audit%20logging%20(%D0%92%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%B6%D1%83%D1%80%D0%BD%D0%B0%D0%BB%D0%B0%20%D0%B0%D1%83%D0%B4%D0%B8%D1%82%D0%B0).md)
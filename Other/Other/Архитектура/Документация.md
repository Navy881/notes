# Документация

Есть три цели, которым должна соответствовать документация по архитектуре программного обеспечения.

1. Документация по архитектуре программного обеспечения создает общее понимание решения, лежащего в основе системы, для различных заинтересованных сторон.
Документация позволяет оценить архитектуру программного обеспечения с точки зрения различных заинтересованных сторон.
2. Документация по архитектуре программного обеспечения поддерживает командную работу. Документирование архитектуры программного обеспечения помогает всей команде разработчиков внедрить решение.
    1. Какие *ограничения* мне необходимо учитывать?
    2. Какие *нефункциональные* требования мне нужно протестировать
    3. Каким *всеобъемлющим* концепциям я должен следовать?
    4. Существуют ли архитектурные решения, которые мне необходимо учитывать при реализации конкретной функции?
3. Документация по архитектуре программного обеспечения поддерживает связь с внешними заинтересованными сторонами. Большая часть работы по архитектуре программного обеспечения — это общение с заинтересованными сторонами. Хорошая документация по архитектуре программного обеспечения содержит различные и подходящие для заинтересованных сторон представления архитектуры программного обеспечения.

**Структура документации по архитектуре программного обеспечения**

Шаблон arc42 - это шаблон для документации по архитектуре.

Он прагматично отвечает на следующие два вопроса, но может быть адаптирован к вашим конкретным потребностям:

- Что мы должны документировать / сообщать о нашей архитектуре?
- Как мы должны документировать / сообщать об этом?

Arc42 - довольно минималистичный шаблон документации по сравнению с другими шаблонами. Независимо от того, насколько велик ваш проект, документация остается относительно компактной и поддерживаемой.

[https://github.com/arc42/arc42-template](https://github.com/arc42/arc42-template)

Струкрута

![Untitled](%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F/Untitled.png)

1. **Ведение и цели**
Краткое описание требований, целей в области качества и список заинтересованных сторон.
2. **Ограничения**
Все, что ограничивает команды в принятии решений по проектированию и внедрению или решений о связанных процессах. Действительны для целых организаций и компаний.
3. **Контекст и сфера применения**
Отделяет вашу систему от ее внешних систем и пользователей. Определяет внешние интерфейсы, отображаемые либо с точки зрения бизнеса, либо с технической точки зрения.
4. **Стратегия решения**
Краткое изложение фундаментальных решений и стратегий решения, которые формируют архитектуру. Может включать технологию, декомпозицию верхнего уровня, подходы к достижению целей высшего качества и соответствующие организационные решения.
5. **Вид состоявляющих блоков**
Статическая декомпозиция системы, показанная в виде иерархии белых прямоугольников вплоть до нужного уровня абстракции.
6. **Представление выполнения**
Поведение состоявляющих блоков в виде сценариев, охватывающих случаи использования, эксплуатацию, администрирование, обработку ошибок и функции. Примером для этого может быть диаграмма последовательности UML.
7. **Представление развертывания**
Техническая инфраструктура со средами, серверами и топологиями. Сопоставление состоявляющих блоков с нужной инфраструктурой.
8. **Сквозные концепции**
Основные правила и подходы к решению, применимые во многих частях системы. Взаимодействие между различными программными компонентами.
9. **Архитектурные решения**
Важные, дорогостоящие, критические, крупномасштабные или рискованные архитектурные решения, включая обоснования.
10. **Требования к качеству**
Требования к качеству как сценарии. Цели в области качества могут быть взяты из п. 1.
11. **Риски и технический долг**
Известные технические риски или уже существующий технический долг. Какие потенциальные проблемы существуют в самом приложении или его окружении? Чего команда разработчиков опасается в будущем?
12. **Глоссарий**
Важная предметная область и технические термины, которые заинтересованные стороны используют при обсуждении системы. Переведите на другой язык, если в вашей компании говорят на нескольких языках.

Примеры документации:

- [https://hsc.aim42.org/documentation/hsc_arc42.html](https://hsc.aim42.org/documentation/hsc_arc42.html)

Визуализация **архитектуры программного обеспечения**

Модель [с4](https://c4model.com/).

1. Программная система — это высший уровень абстракции, описывающий что-то, что добавляет ценность пользователям, независимо от того, люди ониили нет.
2. Контейнер (не Docker!) — это отдельно развертываемая/исполняемая вещь.
3. Компонент — это группа связанных функций, инкапсулированныхза четко определенным интерфейсом. Если вы используете такой язык, как Java или C#, проще всего представить себе компонент как набор классов реализации за интерфейсом.
4. Код (диаграмма классов).

![Untitled](%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F/Untitled%201.png)

Гернот Старке задокументировал требования к технической документации:

![Untitled](%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F/Untitled%202.png)

**Документация как код**

«Документация как код» означает, что ваш процесс документирования выигрывает от тех же практик, которые вы используете для разработки успешного программного обеспечения.

Вот некоторые из этих практик:

- Хранение контента в системе контроля версий
- Разделение контента, конфигурации и представления
- Использование автоматизации для компиляции, проверки, проверки и публикации (CI/CD)
- Повторное использование общих материалов (DRY)
- ...и используйте свою IDE для написания контента ;-)

С помощью этой техники мы получаем некоторое значение «из коробки»:

- Структурирование всего документа на поддокументы
- Реструктуризация документации в соответствии с конкретными заинтересованными сторонами
- Справочные изображения, не встраивание
- Простое управление версиями «обращайтесь с документацией как с кодом»
- Формат содержимого документации, такой как исходный код
- Обзоры документации, запросы на включение, управление версиями с помощью инструментов Git
- Преобразование в различные форматы презентаций, такие как HTML5, PDF, DocBook, Confluence, ...

![Untitled](%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F/Untitled%203.png)

И**нструменты для документации как кода:**

- [AsciiDoc](https://asciidoc.org/) — это язык разметки простого текста для написания технического контента.
- [Asciidoctor](https://asciidoctor.org/) — это быстрый процессор для преобразования AsciiDoc в модель документа и преобразования ее в выходные форматы, такие как HTML 5, DocBook 5, страницы руководства, PDF, EPUB 3 и другие форматы.
- [docToolchain](http://doctoolchain.org/) — это набор скриптов, упрощающих создание и поддержку мощной технической документации.

**Диаграммы как код**

Классический подход к описанию диаграмм в тексте можно реализовать с помощью:

- [PlantUML](https://plantuml.com/de/)
- [Mermaid](https://mermaid.js.org/#/)
- [GraphViz](https://graphviz.org/)

Генерация с4:

- [Structurizr](https://structurizr.com/) ([Structurizr DSL](https://structurizr.com/dsl))

[https://github.com/bitsmuggler/arc42-c4-software-architecture-documentation-example](https://github.com/bitsmuggler/arc42-c4-software-architecture-documentation-example)